{
  "test_name": "multiworker_4w_2-tier_sharded",
  "timestamp": "2025-10-22T13:27:40.388313",
  "configuration": {
    "num_workers": 4,
    "cache_mode": "2-tier",
    "assignment_mode": "sharded",
    "num_strategies": 500,
    "strategies_per_worker": [
      126,
      144,
      107,
      123
    ],
    "instruments_per_worker": [
      413,
      425,
      391,
      413
    ]
  },
  "strategy_stats": {
    "total_strategies": 500,
    "by_type": {
      "high_frequency": 200,
      "scalping": 150,
      "momentum": 75,
      "mean_reversion": 50,
      "swing": 20,
      "position": 5
    },
    "by_timeframe": {
      "1m": 350,
      "5m": 125,
      "15m": 20,
      "60m": 5
    },
    "instruments": {
      "unique_count": 494,
      "total_count": 3726,
      "avg_per_strategy": 7.452,
      "most_common": {
        "NWSA": 17,
        "CLX": 16,
        "PEAK": 16,
        "AMZN": 16,
        "TECH": 15,
        "NVDA": 15,
        "CHRW": 15,
        "DIS": 15,
        "TXN": 15,
        "MMC": 14
      }
    },
    "lookback": {
      "min": 20,
      "max": 500,
      "avg": 94.78
    }
  },
  "load_balance": {
    "total_strategies": 500,
    "per_worker": [
      126,
      144,
      107,
      123
    ],
    "min_load": 107,
    "max_load": 144,
    "avg_load": 125.0,
    "imbalance_factor": 1.152
  },
  "aggregate_metrics": {
    "num_workers": 4,
    "total_memory_mb": 852.73046875,
    "avg_memory_per_worker_mb": 213.1826171875,
    "total_execution_time_seconds": 300.02151107788086,
    "cache_hit_rates": {
      "redis_bulk": {
        "rate": 16.819350691096112,
        "hits": 2093,
        "misses": 10351,
        "total": 12444
      },
      "redis": {
        "rate": 74.7633073848096,
        "hits": 14214,
        "misses": 4798,
        "total": 19012
      }
    },
    "per_worker_memory": [
      198.12890625,
      226.1328125,
      213.59765625,
      214.87109375
    ],
    "memory_redundancy_factor": 4.0
  },
  "worker_results": [
    {
      "worker_id": 0,
      "num_strategies": 126,
      "num_instruments": 413,
      "timings": {
        "warmup_seconds": 3.6860008239746094,
        "test_duration_seconds": 300.02151107788086,
        "fetch_iterations_ms": {
          "avg": 310.5280415969901,
          "min": 205.88766696164384,
          "max": 649.2364580044523
        },
        "minutes_executed": 5
      },
      "minute_by_minute": [
        {
          "minute": 0,
          "strategies_executed": 126,
          "execution_time_ms": 649.2364580044523
        },
        {
          "minute": 1,
          "strategies_executed": 85,
          "execution_time_ms": 234.98670797562227
        },
        {
          "minute": 2,
          "strategies_executed": 85,
          "execution_time_ms": 205.88766696164384
        },
        {
          "minute": 3,
          "strategies_executed": 85,
          "execution_time_ms": 237.98075004015118
        },
        {
          "minute": 4,
          "strategies_executed": 85,
          "execution_time_ms": 224.54862500308082
        }
      ],
      "performance": {
        "latencies": {
          "get_bars_1000_redis": {
            "p50": 2541.0347080323845,
            "p95": 2549.3609159602784,
            "p99": 2549.3609159602784,
            "avg": 2534.445874756784,
            "min": 2516.1752920248546,
            "max": 2549.3609159602784,
            "count": 4
          },
          "get_bars_1000_mock": {
            "p50": 3120.460916950833,
            "p95": 3470.521999988705,
            "p99": 3582.1573749999516,
            "avg": 3094.4173219139816,
            "min": 2560.818374971859,
            "max": 3680.291957978625,
            "count": 409
          },
          "get_bar_redis_hit": {
            "p50": 24.383542011491954,
            "p95": 111.57800001092255,
            "p99": 124.49225003365427,
            "avg": 31.36430332914634,
            "min": 2.4979159934446216,
            "max": 127.50412500463426,
            "count": 3764
          },
          "get_bar_mock_fetch": {
            "p50": 87.97091705491766,
            "p95": 329.2263330076821,
            "p99": 333.99808302056044,
            "avg": 161.45749837392697,
            "min": 45.835374970920384,
            "max": 335.6931669986807,
            "count": 956
          },
          "get_bars_50_redis": {
            "p50": 72.50670803477988,
            "p95": 169.98824995243922,
            "p99": 186.38695898698643,
            "avg": 85.06283195484208,
            "min": 35.98245797911659,
            "max": 186.9577500037849,
            "count": 210
          },
          "get_bars_20_redis": {
            "p50": 44.92579196812585,
            "p95": 129.81541705084965,
            "p99": 151.16304100956768,
            "avg": 62.40358685775261,
            "min": 36.51070804335177,
            "max": 151.16304100956768,
            "count": 35
          },
          "get_bars_100_redis": {
            "p50": 81.93879202008247,
            "p95": 192.4698330112733,
            "p99": 207.12858298793435,
            "avg": 100.41142405056848,
            "min": 36.36704199016094,
            "max": 207.81212503788993,
            "count": 293
          },
          "get_bars_200_redis": {
            "p50": 191.2380830035545,
            "p95": 205.61925001675263,
            "p99": 208.12829199712723,
            "avg": 192.28523638078266,
            "min": 182.68787499982864,
            "max": 208.12829199712723,
            "count": 55
          },
          "get_bars_500_redis": {
            "p50": 212.20100001664832,
            "p95": 213.88849994400516,
            "p99": 213.88849994400516,
            "avg": 212.12704865805185,
            "min": 210.74433403555304,
            "max": 213.88849994400516,
            "count": 6
          },
          "get_bars_20_mock": {
            "p50": 143.7326250015758,
            "p95": 334.6784579916857,
            "p99": 336.35995897930115,
            "avg": 179.4357945372422,
            "min": 100.56666698073968,
            "max": 336.8555419729091,
            "count": 260
          },
          "get_bars_50_mock": {
            "p50": 149.39883403712884,
            "p95": 333.9087920030579,
            "p99": 355.46470899134874,
            "avg": 189.9028304930272,
            "min": 62.934999994467944,
            "max": 356.36308399261907,
            "count": 626
          },
          "get_bars_100_mock": {
            "p50": 159.40462501021102,
            "p95": 333.0805000150576,
            "p99": 354.56841700943187,
            "avg": 202.6930287347203,
            "min": 63.74362501082942,
            "max": 362.10241698427126,
            "count": 946
          },
          "get_bars_200_mock": {
            "p50": 290.29029194498435,
            "p95": 350.4354999749921,
            "p99": 360.3580420021899,
            "avg": 297.61088215145134,
            "min": 266.17833401542157,
            "max": 362.4454580130987,
            "count": 186
          },
          "get_bars_500_mock": {
            "p50": 275.0512500060722,
            "p95": 284.0444580069743,
            "p99": 368.37445897981524,
            "avg": 277.7317849992725,
            "min": 268.93083401955664,
            "max": 368.37445897981524,
            "count": 38
          }
        },
        "cache_hit_rates": {
          "redis_bulk": {
            "rate": 19.65449804432855,
            "hits": 603,
            "misses": 2465,
            "total": 3068
          },
          "redis": {
            "rate": 79.74576271186442,
            "hits": 3764,
            "misses": 956,
            "total": 4720
          }
        },
        "total_runtime_seconds": 304.12506794929504
      },
      "system": {
        "duration_seconds": 304.12165880203247,
        "cpu": {
          "avg_percent": 0.0,
          "max_percent": 0.0,
          "min_percent": 0.0,
          "num_cores": 10
        },
        "memory": {
          "avg_rss_mb": 122.162109375,
          "max_rss_mb": 198.12890625,
          "peak_percent": 1.2092828750610352,
          "final_rss_mb": 46.1953125
        },
        "network": {
          "total_sent_mb": 403.109375,
          "total_recv_mb": 414.9580078125,
          "avg_send_mbps": 10.741216069808088,
          "avg_recv_mbps": 11.056933671689414
        },
        "threads": {
          "avg": 3.0,
          "max": 3,
          "final": 3
        },
        "snapshots_collected": 2
      }
    },
    {
      "worker_id": 1,
      "num_strategies": 144,
      "num_instruments": 425,
      "timings": {
        "warmup_seconds": 3.654284954071045,
        "test_duration_seconds": 300.0116181373596,
        "fetch_iterations_ms": {
          "avg": 347.41281679598615,
          "min": 227.09674999350682,
          "max": 729.9409169936553
        },
        "minutes_executed": 5
      },
      "minute_by_minute": [
        {
          "minute": 0,
          "strategies_executed": 144,
          "execution_time_ms": 729.9409169936553
        },
        {
          "minute": 1,
          "strategies_executed": 103,
          "execution_time_ms": 274.7546249884181
        },
        {
          "minute": 2,
          "strategies_executed": 103,
          "execution_time_ms": 227.09674999350682
        },
        {
          "minute": 3,
          "strategies_executed": 103,
          "execution_time_ms": 256.92883401643485
        },
        {
          "minute": 4,
          "strategies_executed": 103,
          "execution_time_ms": 248.34295798791572
        }
      ],
      "performance": {
        "latencies": {
          "get_bars_1000_redis": {
            "p50": 2612.0212909881957,
            "p95": 2644.03508300893,
            "p99": 2644.03508300893,
            "avg": 2611.2702393729705,
            "min": 2572.36287498381,
            "max": 2644.03508300893,
            "count": 8
          },
          "get_bars_1000_mock": {
            "p50": 3321.629040990956,
            "p95": 3585.7071250211447,
            "p99": 3610.392958042212,
            "avg": 3253.602695560621,
            "min": 2646.629667025991,
            "max": 3647.7976660244167,
            "count": 417
          },
          "get_bar_redis_hit": {
            "p50": 29.473167029209435,
            "p95": 69.71654098015279,
            "p99": 105.15766695607454,
            "avg": 31.833380230719143,
            "min": 3.1614170293323696,
            "max": 147.05891703488305,
            "count": 3852
          },
          "get_bar_mock_fetch": {
            "p50": 108.53970900643617,
            "p95": 386.2816250184551,
            "p99": 394.673083035741,
            "avg": 168.8525767112632,
            "min": 51.60312500083819,
            "max": 397.47329195961356,
            "count": 1403
          },
          "get_bars_50_redis": {
            "p50": 89.58724996773526,
            "p95": 218.51150004658848,
            "p99": 227.7422090410255,
            "avg": 106.16251961420217,
            "min": 43.03675005212426,
            "max": 265.3385419980623,
            "count": 417
          },
          "get_bars_20_redis": {
            "p50": 58.87179204728454,
            "p95": 182.02850001398474,
            "p99": 194.58825001493096,
            "avg": 79.6700429207144,
            "min": 43.71229198295623,
            "max": 194.58825001493096,
            "count": 65
          },
          "get_bars_100_redis": {
            "p50": 92.74516598088667,
            "p95": 257.5057079666294,
            "p99": 265.0199999916367,
            "avg": 123.84450551678792,
            "min": 43.58583298744634,
            "max": 267.12320803198963,
            "count": 326
          },
          "get_bars_200_redis": {
            "p50": 239.9871660163626,
            "p95": 262.7462079981342,
            "p99": 264.08024999545887,
            "avg": 240.47336620739924,
            "min": 186.52812502114102,
            "max": 264.08024999545887,
            "count": 53
          },
          "get_bars_500_redis": {
            "p50": 248.8981659989804,
            "p95": 263.6766249779612,
            "p99": 263.6766249779612,
            "avg": 238.46848937682807,
            "min": 207.1635000174865,
            "max": 263.6766249779612,
            "count": 8
          },
          "get_bars_100_mock": {
            "p50": 188.30524996155873,
            "p95": 397.47008302947506,
            "p99": 434.0056660003029,
            "avg": 240.95024705341135,
            "min": 63.24029201641679,
            "max": 478.8645409862511,
            "count": 1017
          },
          "get_bars_50_mock": {
            "p50": 184.69141697278246,
            "p95": 394.60500003769994,
            "p99": 398.6265829880722,
            "avg": 218.62401785676516,
            "min": 65.84387499606237,
            "max": 415.4275410110131,
            "count": 747
          },
          "get_bars_20_mock": {
            "p50": 182.52795794978738,
            "p95": 397.4779170239344,
            "p99": 399.1166659980081,
            "avg": 215.77615871210583,
            "min": 127.37716699484736,
            "max": 400.342459033709,
            "count": 300
          },
          "get_bars_200_mock": {
            "p50": 306.5374160069041,
            "p95": 397.7241250104271,
            "p99": 448.5068750218488,
            "avg": 314.34944248868777,
            "min": 275.6005420233123,
            "max": 460.3930419543758,
            "count": 158
          },
          "get_bars_500_mock": {
            "p50": 284.01629196014255,
            "p95": 296.2852089549415,
            "p99": 475.16233299393207,
            "avg": 289.05083236541265,
            "min": 277.8760840301402,
            "max": 475.16233299393207,
            "count": 39
          }
        },
        "cache_hit_rates": {
          "redis_bulk": {
            "rate": 24.669479606188467,
            "hits": 877,
            "misses": 2678,
            "total": 3555
          },
          "redis": {
            "rate": 73.30161750713606,
            "hits": 3852,
            "misses": 1403,
            "total": 5255
          }
        },
        "total_runtime_seconds": 304.08416533470154
      },
      "system": {
        "duration_seconds": 304.0798830986023,
        "cpu": {
          "avg_percent": 0.0,
          "max_percent": 0.0,
          "min_percent": 0.0,
          "num_cores": 10
        },
        "memory": {
          "avg_rss_mb": 137.265625,
          "max_rss_mb": 226.1328125,
          "peak_percent": 1.3802051544189453,
          "final_rss_mb": 48.3984375
        },
        "network": {
          "total_sent_mb": 403.109375,
          "total_recv_mb": 414.9580078125,
          "avg_send_mbps": 10.741763073657486,
          "avg_recv_mbps": 11.057496753675816
        },
        "threads": {
          "avg": 3.0,
          "max": 3,
          "final": 3
        },
        "snapshots_collected": 2
      }
    },
    {
      "worker_id": 2,
      "num_strategies": 107,
      "num_instruments": 391,
      "timings": {
        "warmup_seconds": 3.164083957672119,
        "test_duration_seconds": 300.0145809650421,
        "fetch_iterations_ms": {
          "avg": 253.92663300735876,
          "min": 186.8184999912046,
          "max": 512.2987910290249
        },
        "minutes_executed": 5
      },
      "minute_by_minute": [
        {
          "minute": 0,
          "strategies_executed": 107,
          "execution_time_ms": 512.2987910290249
        },
        {
          "minute": 1,
          "strategies_executed": 76,
          "execution_time_ms": 193.27441597124562
        },
        {
          "minute": 2,
          "strategies_executed": 76,
          "execution_time_ms": 186.8184999912046
        },
        {
          "minute": 3,
          "strategies_executed": 76,
          "execution_time_ms": 189.67408302705735
        },
        {
          "minute": 4,
          "strategies_executed": 76,
          "execution_time_ms": 187.56737501826137
        }
      ],
      "performance": {
        "latencies": {
          "get_bars_1000_mock": {
            "p50": 2727.6193339494057,
            "p95": 3110.723833029624,
            "p99": 3111.95404198952,
            "avg": 2765.144613263158,
            "min": 2456.8338329554535,
            "max": 3158.2455409807153,
            "count": 391
          },
          "get_bar_mock_fetch": {
            "p50": 164.40445801708847,
            "p95": 285.0254999939352,
            "p99": 287.7036660211161,
            "avg": 173.26394589394903,
            "min": 50.67050002980977,
            "max": 288.33258402301,
            "count": 1154
          },
          "get_bar_redis_hit": {
            "p50": 20.320291980169713,
            "p95": 46.947166963946074,
            "p99": 51.72262497944757,
            "avg": 21.80393586008237,
            "min": 2.922500018030405,
            "max": 52.878124988637865,
            "count": 3183
          },
          "get_bars_100_mock": {
            "p50": 125.75704202754423,
            "p95": 276.35462500620633,
            "p99": 289.57470803288743,
            "avg": 154.7271433018515,
            "min": 113.41179098235443,
            "max": 296.143583022058,
            "count": 944
          },
          "get_bars_50_mock": {
            "p50": 125.14183297753334,
            "p95": 192.29779101442546,
            "p99": 279.53983400948346,
            "avg": 140.00998006009343,
            "min": 113.5804170044139,
            "max": 284.49733299203217,
            "count": 928
          },
          "get_bars_20_mock": {
            "p50": 124.32516599074006,
            "p95": 183.02483297884464,
            "p99": 183.68295801337808,
            "avg": 133.95897936829667,
            "min": 113.69683395605534,
            "max": 184.55587496282533,
            "count": 295
          },
          "get_bars_200_mock": {
            "p50": 269.46020795730874,
            "p95": 285.25699995225295,
            "p99": 290.7400000258349,
            "avg": 271.807525777893,
            "min": 260.2223330177367,
            "max": 293.22287504328415,
            "count": 176
          },
          "get_bars_500_mock": {
            "p50": 295.75350001687184,
            "p95": 298.7590410048142,
            "p99": 298.8092079758644,
            "avg": 294.6463664098141,
            "min": 284.79524998692796,
            "max": 298.8092079758644,
            "count": 39
          }
        },
        "cache_hit_rates": {
          "redis_bulk": {
            "rate": 0.0,
            "hits": 0,
            "misses": 2773,
            "total": 2773
          },
          "redis": {
            "rate": 73.39174544616094,
            "hits": 3183,
            "misses": 1154,
            "total": 4337
          }
        },
        "total_runtime_seconds": 303.59612917900085
      },
      "system": {
        "duration_seconds": 303.5918209552765,
        "cpu": {
          "avg_percent": 0.0,
          "max_percent": 0.0,
          "min_percent": 0.0,
          "num_cores": 10
        },
        "memory": {
          "avg_rss_mb": 149.662109375,
          "max_rss_mb": 213.59765625,
          "peak_percent": 1.303696632385254,
          "final_rss_mb": 85.7265625
        },
        "network": {
          "total_sent_mb": 403.091796875,
          "total_recv_mb": 414.9404296875,
          "avg_send_mbps": 10.741092204098301,
          "avg_recv_mbps": 11.05681993291396
        },
        "threads": {
          "avg": 3.0,
          "max": 3,
          "final": 3
        },
        "snapshots_collected": 2
      }
    },
    {
      "worker_id": 3,
      "num_strategies": 123,
      "num_instruments": 413,
      "timings": {
        "warmup_seconds": 3.6457767486572266,
        "test_duration_seconds": 300.01077795028687,
        "fetch_iterations_ms": {
          "avg": 309.52710839919746,
          "min": 204.50491702649742,
          "max": 602.0097919972613
        },
        "minutes_executed": 5
      },
      "minute_by_minute": [
        {
          "minute": 0,
          "strategies_executed": 123,
          "execution_time_ms": 602.0097919972613
        },
        {
          "minute": 1,
          "strategies_executed": 86,
          "execution_time_ms": 282.2678749798797
        },
        {
          "minute": 2,
          "strategies_executed": 86,
          "execution_time_ms": 204.50491702649742
        },
        {
          "minute": 3,
          "strategies_executed": 86,
          "execution_time_ms": 226.4064169721678
        },
        {
          "minute": 4,
          "strategies_executed": 86,
          "execution_time_ms": 232.44654102018103
        }
      ],
      "performance": {
        "latencies": {
          "get_bars_1000_redis": {
            "p50": 2528.5658329958096,
            "p95": 2528.5658329958096,
            "p99": 2528.5658329958096,
            "avg": 2528.5658329958096,
            "min": 2528.5658329958096,
            "max": 2528.5658329958096,
            "count": 1
          },
          "get_bars_1000_mock": {
            "p50": 3324.961250007618,
            "p95": 3634.815917001106,
            "p99": 3639.3332919687964,
            "avg": 3247.842098623983,
            "min": 2580.169082968496,
            "max": 3640.0123750208877,
            "count": 412
          },
          "get_bar_redis_hit": {
            "p50": 26.561666978523135,
            "p95": 58.4637499996461,
            "p99": 87.85174996592104,
            "avg": 27.65188645334549,
            "min": 2.3929590242914855,
            "max": 102.37924999091774,
            "count": 3415
          },
          "get_bar_mock_fetch": {
            "p50": 101.9306659582071,
            "p95": 307.01724998652935,
            "p99": 312.5524170463905,
            "avg": 135.28231549863105,
            "min": 48.26987499836832,
            "max": 314.9810000322759,
            "count": 1285
          },
          "get_bars_20_redis": {
            "p50": 56.44979199860245,
            "p95": 128.81804100470617,
            "p99": 129.53212502179667,
            "avg": 65.4451768211503,
            "min": 37.71520801819861,
            "max": 129.53212502179667,
            "count": 45
          },
          "get_bars_100_redis": {
            "p50": 76.95241598412395,
            "p95": 183.02137503633276,
            "p99": 198.67291703121737,
            "avg": 96.49892084373059,
            "min": 38.54554198915139,
            "max": 199.6781249763444,
            "count": 199
          },
          "get_bars_50_redis": {
            "p50": 76.81649998994544,
            "p95": 155.10895900661126,
            "p99": 169.35266595100984,
            "avg": 85.49938087779113,
            "min": 38.727750012185425,
            "max": 171.16874997736886,
            "count": 305
          },
          "get_bars_200_redis": {
            "p50": 180.51366601139307,
            "p95": 196.399292035494,
            "p99": 196.67925004614517,
            "avg": 180.94700839622723,
            "min": 167.7963329711929,
            "max": 196.67925004614517,
            "count": 60
          },
          "get_bars_500_redis": {
            "p50": 202.7372500160709,
            "p95": 203.54645798215643,
            "p99": 203.54645798215643,
            "avg": 202.5289720040746,
            "min": 201.30320801399648,
            "max": 203.54645798215643,
            "count": 3
          },
          "get_bars_20_mock": {
            "p50": 145.02066699787974,
            "p95": 315.65624999348074,
            "p99": 316.8304589926265,
            "avg": 173.0753766680958,
            "min": 102.25320799509063,
            "max": 317.09224998485297,
            "count": 255
          },
          "get_bars_100_mock": {
            "p50": 153.10845797648653,
            "p95": 316.12087500980124,
            "p99": 337.965874990914,
            "avg": 196.75483380026202,
            "min": 68.06091696489602,
            "max": 353.3207919681445,
            "count": 735
          },
          "get_bars_50_mock": {
            "p50": 146.0064590210095,
            "p95": 313.50179098080844,
            "p99": 315.61529100872576,
            "avg": 173.29202131170533,
            "min": 62.70741601474583,
            "max": 316.94600003538653,
            "count": 795
          },
          "get_bars_200_mock": {
            "p50": 259.5033340039663,
            "p95": 339.4029170158319,
            "p99": 348.67141698487103,
            "avg": 274.6443782475913,
            "min": 243.9438750152476,
            "max": 352.17858297983184,
            "count": 205
          },
          "get_bars_500_mock": {
            "p50": 251.2649170239456,
            "p95": 356.38258303515613,
            "p99": 388.32754199393094,
            "avg": 259.25998487968394,
            "min": 246.8469999730587,
            "max": 388.32754199393094,
            "count": 33
          }
        },
        "cache_hit_rates": {
          "redis_bulk": {
            "rate": 20.11154855643045,
            "hits": 613,
            "misses": 2435,
            "total": 3048
          },
          "redis": {
            "rate": 72.65957446808511,
            "hits": 3415,
            "misses": 1285,
            "total": 4700
          }
        },
        "total_runtime_seconds": 304.0699870586395
      },
      "system": {
        "duration_seconds": 304.06640887260437,
        "cpu": {
          "avg_percent": 0.0,
          "max_percent": 0.0,
          "min_percent": 0.0,
          "num_cores": 10
        },
        "memory": {
          "avg_rss_mb": 130.265625,
          "max_rss_mb": 214.87109375,
          "peak_percent": 1.3114690780639648,
          "final_rss_mb": 45.66015625
        },
        "network": {
          "total_sent_mb": 403.1064453125,
          "total_recv_mb": 414.955078125,
          "avg_send_mbps": 10.741685150511708,
          "avg_recv_mbps": 11.05741883479262
        },
        "threads": {
          "avg": 3.0,
          "max": 3,
          "final": 3
        },
        "snapshots_collected": 2
      }
    }
  ],
  "total_wall_clock_seconds": 304.60640573501587
}