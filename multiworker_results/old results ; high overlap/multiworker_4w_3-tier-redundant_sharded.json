{
  "test_name": "multiworker_4w_3-tier-redundant_sharded",
  "timestamp": "2025-10-22T13:47:39.697767",
  "configuration": {
    "num_workers": 4,
    "cache_mode": "3-tier-redundant",
    "assignment_mode": "sharded",
    "num_strategies": 500,
    "strategies_per_worker": [
      126,
      144,
      107,
      123
    ],
    "instruments_per_worker": [
      413,
      425,
      391,
      413
    ]
  },
  "strategy_stats": {
    "total_strategies": 500,
    "by_type": {
      "high_frequency": 200,
      "scalping": 150,
      "momentum": 75,
      "mean_reversion": 50,
      "swing": 20,
      "position": 5
    },
    "by_timeframe": {
      "1m": 350,
      "5m": 125,
      "15m": 20,
      "60m": 5
    },
    "instruments": {
      "unique_count": 494,
      "total_count": 3726,
      "avg_per_strategy": 7.452,
      "most_common": {
        "NWSA": 17,
        "CLX": 16,
        "PEAK": 16,
        "AMZN": 16,
        "TECH": 15,
        "NVDA": 15,
        "CHRW": 15,
        "DIS": 15,
        "TXN": 15,
        "MMC": 14
      }
    },
    "lookback": {
      "min": 20,
      "max": 500,
      "avg": 94.78
    }
  },
  "load_balance": {
    "total_strategies": 500,
    "per_worker": [
      126,
      144,
      107,
      123
    ],
    "min_load": 107,
    "max_load": 144,
    "avg_load": 125.0,
    "imbalance_factor": 1.152
  },
  "aggregate_metrics": {
    "num_workers": 4,
    "total_memory_mb": 1265.9609375,
    "avg_memory_per_worker_mb": 316.490234375,
    "total_execution_time_seconds": 300.01132702827454,
    "cache_hit_rates": {
      "memory_bulk": {
        "rate": 86.80488588878174,
        "hits": 10802,
        "misses": 1642,
        "total": 12444
      },
      "redis_bulk": {
        "rate": 0.0,
        "hits": 0,
        "misses": 1642,
        "total": 1642
      },
      "memory": {
        "rate": 28.234799074268885,
        "hits": 5368,
        "misses": 13644,
        "total": 19012
      },
      "redis": {
        "rate": 83.57519788918206,
        "hits": 11403,
        "misses": 2241,
        "total": 13644
      }
    },
    "per_worker_memory": [
      317.265625,
      325.44921875,
      304.21875,
      319.02734375
    ],
    "memory_redundancy_factor": 4.0
  },
  "worker_results": [
    {
      "worker_id": 0,
      "num_strategies": 126,
      "num_instruments": 413,
      "timings": {
        "warmup_seconds": 3.8236799240112305,
        "test_duration_seconds": 300.0096161365509,
        "fetch_iterations_ms": {
          "avg": 80.44859999790788,
          "min": 55.9766250080429,
          "max": 127.94479203876108
        },
        "minutes_executed": 5
      },
      "minute_by_minute": [
        {
          "minute": 0,
          "strategies_executed": 126,
          "execution_time_ms": 55.9766250080429
        },
        {
          "minute": 1,
          "strategies_executed": 85,
          "execution_time_ms": 70.55012497585267
        },
        {
          "minute": 2,
          "strategies_executed": 85,
          "execution_time_ms": 127.94479203876108
        },
        {
          "minute": 3,
          "strategies_executed": 85,
          "execution_time_ms": 74.29191697156057
        },
        {
          "minute": 4,
          "strategies_executed": 85,
          "execution_time_ms": 73.47954099532217
        }
      ],
      "performance": {
        "latencies": {
          "get_bars_1000_mock": {
            "p50": 3518.2645420427434,
            "p95": 3814.558500016574,
            "p99": 3817.445124965161,
            "avg": 3520.1840143368613,
            "min": 3006.8206670111977,
            "max": 3817.7775829681195,
            "count": 413
          },
          "get_bar_memory_hit": {
            "p50": 0.002833025064319372,
            "p95": 0.005332985892891884,
            "p99": 0.014082994312047958,
            "avg": 0.0036043216696324005,
            "min": 0.0022500171326100826,
            "max": 0.0921249738894403,
            "count": 1372
          },
          "get_bars_20_memory": {
            "p50": 0.00866700429469347,
            "p95": 0.033167016226798296,
            "p99": 0.05058397073298693,
            "avg": 0.011971166310042648,
            "min": 0.005874957423657179,
            "max": 0.05258398596197367,
            "count": 295
          },
          "get_bars_50_memory": {
            "p50": 0.008832954335957766,
            "p95": 0.030416005756706,
            "p99": 0.04554196493700147,
            "avg": 0.011841618580159924,
            "min": 0.005249981768429279,
            "max": 0.2578750136308372,
            "count": 836
          },
          "get_bars_100_memory": {
            "p50": 0.009040988516062498,
            "p95": 0.02358300844207406,
            "p99": 0.04458299372345209,
            "avg": 0.011653113111258275,
            "min": 0.005916983354836702,
            "max": 0.4539579967968166,
            "count": 1239
          },
          "get_bars_200_memory": {
            "p50": 0.009167008101940155,
            "p95": 0.010541989468038082,
            "p99": 0.013708020560443401,
            "avg": 0.00929769468629014,
            "min": 0.008040980901569128,
            "max": 0.020915991626679897,
            "count": 241
          },
          "get_bars_500_memory": {
            "p50": 0.008999952115118504,
            "p95": 0.009833020158112049,
            "p99": 0.013125012628734112,
            "avg": 0.009095506605014882,
            "min": 0.008333008736371994,
            "max": 0.013125012628734112,
            "count": 44
          },
          "get_bar_mock_fetch": {
            "p50": 78.0280830222182,
            "p95": 93.70033297454938,
            "p99": 95.28483299072832,
            "avg": 76.45204939430678,
            "min": 50.16454204451293,
            "max": 95.6229169969447,
            "count": 718
          },
          "get_bar_redis_hit": {
            "p50": 21.44658303586766,
            "p95": 40.52804200910032,
            "p99": 45.84212496411055,
            "avg": 21.728795164015974,
            "min": 4.041917040012777,
            "max": 48.689457995351404,
            "count": 2630
          }
        },
        "cache_hit_rates": {
          "memory_bulk": {
            "rate": 86.53846153846155,
            "hits": 2655,
            "misses": 413,
            "total": 3068
          },
          "redis_bulk": {
            "rate": 0.0,
            "hits": 0,
            "misses": 413,
            "total": 413
          },
          "memory": {
            "rate": 29.067796610169495,
            "hits": 1372,
            "misses": 3348,
            "total": 4720
          },
          "redis": {
            "rate": 78.55436081242533,
            "hits": 2630,
            "misses": 718,
            "total": 3348
          }
        },
        "total_runtime_seconds": 304.28017807006836
      },
      "system": {
        "duration_seconds": 304.26533484458923,
        "cpu": {
          "avg_percent": 0.0,
          "max_percent": 0.0,
          "min_percent": 0.0,
          "num_cores": 10
        },
        "memory": {
          "avg_rss_mb": 173.66015625,
          "max_rss_mb": 317.265625,
          "peak_percent": 1.9364356994628906,
          "final_rss_mb": 30.0546875
        },
        "network": {
          "total_sent_mb": 263.21875,
          "total_recv_mb": 270.8232421875,
          "avg_send_mbps": 7.013748645902632,
          "avg_recv_mbps": 7.216378575506262
        },
        "threads": {
          "avg": 3.0,
          "max": 3,
          "final": 3
        },
        "snapshots_collected": 2
      }
    },
    {
      "worker_id": 1,
      "num_strategies": 144,
      "num_instruments": 425,
      "timings": {
        "warmup_seconds": 4.683160066604614,
        "test_duration_seconds": 300.00809502601624,
        "fetch_iterations_ms": {
          "avg": 80.78327479306608,
          "min": 58.695832965895534,
          "max": 94.24883301835507
        },
        "minutes_executed": 5
      },
      "minute_by_minute": [
        {
          "minute": 0,
          "strategies_executed": 144,
          "execution_time_ms": 58.695832965895534
        },
        {
          "minute": 1,
          "strategies_executed": 103,
          "execution_time_ms": 94.24883301835507
        },
        {
          "minute": 2,
          "strategies_executed": 103,
          "execution_time_ms": 80.36929101217538
        },
        {
          "minute": 3,
          "strategies_executed": 103,
          "execution_time_ms": 89.23662500455976
        },
        {
          "minute": 4,
          "strategies_executed": 103,
          "execution_time_ms": 81.36579196434468
        }
      ],
      "performance": {
        "latencies": {
          "get_bars_1000_mock": {
            "p50": 4543.578167038504,
            "p95": 4674.740374961402,
            "p99": 4676.534084021114,
            "avg": 4140.47128681518,
            "min": 3072.732166037895,
            "max": 4677.043250005227,
            "count": 425
          },
          "get_bar_memory_hit": {
            "p50": 0.0028329668566584587,
            "p95": 0.005166977643966675,
            "p99": 0.013750046491622925,
            "avg": 0.003454429967305422,
            "min": 0.0021249870769679546,
            "max": 0.06333296187222004,
            "count": 1507
          },
          "get_bars_50_memory": {
            "p50": 0.00866700429469347,
            "p95": 0.024250010028481483,
            "p99": 0.051749986596405506,
            "avg": 0.010754571896753693,
            "min": 0.005458015948534012,
            "max": 0.05929102189838886,
            "count": 1164
          },
          "get_bars_100_memory": {
            "p50": 0.008792034350335598,
            "p95": 0.022833002731204033,
            "p99": 0.05620799493044615,
            "avg": 0.012262844525996044,
            "min": 0.005167035851627588,
            "max": 0.7255000527948141,
            "count": 1343
          },
          "get_bars_20_memory": {
            "p50": 0.008749950211495161,
            "p95": 0.04087499110028148,
            "p99": 0.055165961384773254,
            "avg": 0.012076731567105202,
            "min": 0.005792011506855488,
            "max": 0.05979201523587108,
            "count": 365
          },
          "get_bars_200_memory": {
            "p50": 0.008707982487976551,
            "p95": 0.010457995813339949,
            "p99": 0.015458033885806799,
            "avg": 0.008958753781013578,
            "min": 0.007333990652114153,
            "max": 0.016290985513478518,
            "count": 211
          },
          "get_bars_500_memory": {
            "p50": 0.008583010639995337,
            "p95": 0.009333016350865364,
            "p99": 0.009500014130026102,
            "avg": 0.008609810933232941,
            "min": 0.0075830030255019665,
            "max": 0.009500014130026102,
            "count": 47
          },
          "get_bar_redis_hit": {
            "p50": 22.359542024787515,
            "p95": 41.65866697439924,
            "p99": 48.5718339914456,
            "avg": 22.169110374924085,
            "min": 3.9095410029403865,
            "max": 51.722625037655234,
            "count": 3578
          },
          "get_bar_mock_fetch": {
            "p50": 45.08174996590242,
            "p95": 53.20383404614404,
            "p99": 54.603249998763204,
            "avg": 43.64732670775779,
            "min": 31.238832976669073,
            "max": 54.6045420342125,
            "count": 170
          }
        },
        "cache_hit_rates": {
          "memory_bulk": {
            "rate": 88.0450070323488,
            "hits": 3130,
            "misses": 425,
            "total": 3555
          },
          "redis_bulk": {
            "rate": 0.0,
            "hits": 0,
            "misses": 425,
            "total": 425
          },
          "memory": {
            "rate": 28.67745004757374,
            "hits": 1507,
            "misses": 3748,
            "total": 5255
          },
          "redis": {
            "rate": 95.46424759871933,
            "hits": 3578,
            "misses": 170,
            "total": 3748
          }
        },
        "total_runtime_seconds": 305.12697887420654
      },
      "system": {
        "duration_seconds": 305.1234040260315,
        "cpu": {
          "avg_percent": 0.0,
          "max_percent": 0.0,
          "min_percent": 0.0,
          "num_cores": 10
        },
        "memory": {
          "avg_rss_mb": 176.080078125,
          "max_rss_mb": 325.44921875,
          "peak_percent": 1.986384391784668,
          "final_rss_mb": 26.7109375
        },
        "network": {
          "total_sent_mb": 263.2646484375,
          "total_recv_mb": 270.87109375,
          "avg_send_mbps": 7.01495988304533,
          "avg_recv_mbps": 7.217641515526014
        },
        "threads": {
          "avg": 3.0,
          "max": 3,
          "final": 3
        },
        "snapshots_collected": 2
      }
    },
    {
      "worker_id": 2,
      "num_strategies": 107,
      "num_instruments": 391,
      "timings": {
        "warmup_seconds": 3.9891271591186523,
        "test_duration_seconds": 300.0092222690582,
        "fetch_iterations_ms": {
          "avg": 77.83398340689018,
          "min": 54.24795800354332,
          "max": 99.22266600187868
        },
        "minutes_executed": 5
      },
      "minute_by_minute": [
        {
          "minute": 0,
          "strategies_executed": 107,
          "execution_time_ms": 54.24795800354332
        },
        {
          "minute": 1,
          "strategies_executed": 76,
          "execution_time_ms": 65.48304198076949
        },
        {
          "minute": 2,
          "strategies_executed": 76,
          "execution_time_ms": 79.45545902475715
        },
        {
          "minute": 3,
          "strategies_executed": 76,
          "execution_time_ms": 99.22266600187868
        },
        {
          "minute": 4,
          "strategies_executed": 76,
          "execution_time_ms": 90.76079202350229
        }
      ],
      "performance": {
        "latencies": {
          "get_bars_1000_mock": {
            "p50": 3001.6119169886224,
            "p95": 3338.3915000013076,
            "p99": 3751.0343340109102,
            "avg": 3047.493602629439,
            "min": 2802.615375025198,
            "max": 3983.1061249715276,
            "count": 391
          },
          "get_bar_memory_hit": {
            "p50": 0.003374996595084667,
            "p95": 0.006582995411008596,
            "p99": 0.014082994312047958,
            "avg": 0.00414302639559295,
            "min": 0.0023329630494117737,
            "max": 0.10750000365078449,
            "count": 1165
          },
          "get_bars_100_memory": {
            "p50": 0.009457988198846579,
            "p95": 0.024915963876992464,
            "p99": 0.04733301466330886,
            "avg": 0.011893480959924537,
            "min": 0.005750043783336878,
            "max": 0.13991701416671276,
            "count": 944
          },
          "get_bars_50_memory": {
            "p50": 0.009167008101940155,
            "p95": 0.028499984182417393,
            "p99": 0.04700000863522291,
            "avg": 0.012563890213014333,
            "min": 0.005167035851627588,
            "max": 0.6435419782064855,
            "count": 928
          },
          "get_bars_20_memory": {
            "p50": 0.00920804450288415,
            "p95": 0.030458031687885523,
            "p99": 0.043208012357354164,
            "avg": 0.01179996968673195,
            "min": 0.005207955837249756,
            "max": 0.04904199158772826,
            "count": 295
          },
          "get_bars_200_memory": {
            "p50": 0.01008401159197092,
            "p95": 0.012040953151881695,
            "p99": 0.015083001926541328,
            "avg": 0.010236961481330747,
            "min": 0.008124974556267262,
            "max": 0.019417027942836285,
            "count": 176
          },
          "get_bars_500_memory": {
            "p50": 0.011041993275284767,
            "p95": 0.04870904376730323,
            "p99": 0.08583400631323457,
            "avg": 0.01673295031277797,
            "min": 0.009624985978007317,
            "max": 0.08583400631323457,
            "count": 39
          },
          "get_bar_redis_hit": {
            "p50": 22.79529202496633,
            "p95": 49.16041699470952,
            "p99": 56.304332974832505,
            "avg": 23.778873635480895,
            "min": 3.4749589976854622,
            "max": 57.84970900276676,
            "count": 2335
          },
          "get_bar_mock_fetch": {
            "p50": 53.030457987915725,
            "p95": 61.864125018473715,
            "p99": 64.48395800543949,
            "avg": 51.69349218334273,
            "min": 35.25391599396244,
            "max": 65.04020898137242,
            "count": 837
          }
        },
        "cache_hit_rates": {
          "memory_bulk": {
            "rate": 85.8997475658132,
            "hits": 2382,
            "misses": 391,
            "total": 2773
          },
          "redis_bulk": {
            "rate": 0.0,
            "hits": 0,
            "misses": 391,
            "total": 391
          },
          "memory": {
            "rate": 26.86188609637999,
            "hits": 1165,
            "misses": 3172,
            "total": 4337
          },
          "redis": {
            "rate": 73.61286254728878,
            "hits": 2335,
            "misses": 837,
            "total": 3172
          }
        },
        "total_runtime_seconds": 304.4358367919922
      },
      "system": {
        "duration_seconds": 304.4329249858856,
        "cpu": {
          "avg_percent": 0.0,
          "max_percent": 0.0,
          "min_percent": 0.0,
          "num_cores": 10
        },
        "memory": {
          "avg_rss_mb": 176.197265625,
          "max_rss_mb": 304.21875,
          "peak_percent": 1.8568038940429688,
          "final_rss_mb": 48.17578125
        },
        "network": {
          "total_sent_mb": 263.2333984375,
          "total_recv_mb": 270.8388671875,
          "avg_send_mbps": 7.014174495240421,
          "avg_recv_mbps": 7.216831472839956
        },
        "threads": {
          "avg": 3.0,
          "max": 3,
          "final": 3
        },
        "snapshots_collected": 2
      }
    },
    {
      "worker_id": 3,
      "num_strategies": 123,
      "num_instruments": 413,
      "timings": {
        "warmup_seconds": 4.527945041656494,
        "test_duration_seconds": 300.01132702827454,
        "fetch_iterations_ms": {
          "avg": 78.60610842471942,
          "min": 52.3890420445241,
          "max": 93.22112501831725
        },
        "minutes_executed": 5
      },
      "minute_by_minute": [
        {
          "minute": 0,
          "strategies_executed": 123,
          "execution_time_ms": 52.3890420445241
        },
        {
          "minute": 1,
          "strategies_executed": 86,
          "execution_time_ms": 72.72358401678503
        },
        {
          "minute": 2,
          "strategies_executed": 86,
          "execution_time_ms": 93.22112501831725
        },
        {
          "minute": 3,
          "strategies_executed": 86,
          "execution_time_ms": 84.5285410177894
        },
        {
          "minute": 4,
          "strategies_executed": 86,
          "execution_time_ms": 90.16825002618134
        }
      ],
      "performance": {
        "latencies": {
          "get_bars_1000_mock": {
            "p50": 3555.1857920363545,
            "p95": 3695.977041963488,
            "p99": 3710.6134580099024,
            "avg": 3501.7048966054426,
            "min": 2974.474334041588,
            "max": 4525.464333011769,
            "count": 413
          },
          "get_bar_memory_hit": {
            "p50": 0.0025840126909315586,
            "p95": 0.004957953933626413,
            "p99": 0.009542040061205626,
            "avg": 0.0033190447887760273,
            "min": 0.0019170111045241356,
            "max": 0.14933303464204073,
            "count": 1324
          },
          "get_bars_20_memory": {
            "p50": 0.00862503657117486,
            "p95": 0.03462500171735883,
            "p99": 0.04637503297999501,
            "avg": 0.011253187937351564,
            "min": 0.004999979864805937,
            "max": 0.0500410096719861,
            "count": 300
          },
          "get_bars_100_memory": {
            "p50": 0.008874980267137289,
            "p95": 0.025124987587332726,
            "p99": 0.03879197174683213,
            "avg": 0.010784976787633826,
            "min": 0.00566698145121336,
            "max": 0.051666051149368286,
            "count": 934
          },
          "get_bars_50_memory": {
            "p50": 0.008541974239051342,
            "p95": 0.022625026758760214,
            "p99": 0.04191702464595437,
            "avg": 0.010486922480843285,
            "min": 0.005082983989268541,
            "max": 0.22466701921075583,
            "count": 1100
          },
          "get_bars_200_memory": {
            "p50": 0.009082956239581108,
            "p95": 0.01183303538709879,
            "p99": 0.013832992408424616,
            "avg": 0.009154231410543874,
            "min": 0.007374968845397234,
            "max": 0.014542019926011562,
            "count": 265
          },
          "get_bars_500_memory": {
            "p50": 0.010124989785254002,
            "p95": 0.014082994312047958,
            "p99": 0.014583987649530172,
            "avg": 0.010330994781624112,
            "min": 0.00925001222640276,
            "max": 0.014583987649530172,
            "count": 36
          },
          "get_bar_redis_hit": {
            "p50": 23.109750007279217,
            "p95": 44.78474997449666,
            "p99": 55.33874995307997,
            "avg": 24.040765571937133,
            "min": 4.194374952930957,
            "max": 59.240249975118786,
            "count": 2860
          },
          "get_bar_mock_fetch": {
            "p50": 63.33616701886058,
            "p95": 71.45120901986957,
            "p99": 71.91608304856345,
            "avg": 58.489387281994375,
            "min": 41.38837498612702,
            "max": 72.05241703195497,
            "count": 516
          }
        },
        "cache_hit_rates": {
          "memory_bulk": {
            "rate": 86.4501312335958,
            "hits": 2635,
            "misses": 413,
            "total": 3048
          },
          "redis_bulk": {
            "rate": 0.0,
            "hits": 0,
            "misses": 413,
            "total": 413
          },
          "memory": {
            "rate": 28.170212765957448,
            "hits": 1324,
            "misses": 3376,
            "total": 4700
          },
          "redis": {
            "rate": 84.71563981042654,
            "hits": 2860,
            "misses": 516,
            "total": 3376
          }
        },
        "total_runtime_seconds": 304.9814872741699
      },
      "system": {
        "duration_seconds": 304.9722559452057,
        "cpu": {
          "avg_percent": 0.0,
          "max_percent": 0.0,
          "min_percent": 0.0,
          "num_cores": 10
        },
        "memory": {
          "avg_rss_mb": 173.470703125,
          "max_rss_mb": 319.02734375,
          "peak_percent": 1.947188377380371,
          "final_rss_mb": 27.9140625
        },
        "network": {
          "total_sent_mb": 263.2490234375,
          "total_recv_mb": 270.85546875,
          "avg_send_mbps": 7.014434779379395,
          "avg_recv_mbps": 7.217113269315426
        },
        "threads": {
          "avg": 3.0,
          "max": 3,
          "final": 3
        },
        "snapshots_collected": 2
      }
    }
  ],
  "total_wall_clock_seconds": 305.6065709590912
}