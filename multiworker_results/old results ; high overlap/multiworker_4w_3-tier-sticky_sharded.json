{
  "test_name": "multiworker_4w_3-tier-sticky_sharded",
  "timestamp": "2025-10-22T14:14:36.399252",
  "configuration": {
    "num_workers": 4,
    "cache_mode": "3-tier-sticky",
    "assignment_mode": "sharded",
    "num_strategies": 500,
    "strategies_per_worker": [
      126,
      144,
      107,
      123
    ],
    "instruments_per_worker": [
      413,
      425,
      391,
      413
    ]
  },
  "strategy_stats": {
    "total_strategies": 500,
    "by_type": {
      "high_frequency": 200,
      "scalping": 150,
      "momentum": 75,
      "mean_reversion": 50,
      "swing": 20,
      "position": 5
    },
    "by_timeframe": {
      "1m": 350,
      "5m": 125,
      "15m": 20,
      "60m": 5
    },
    "instruments": {
      "unique_count": 494,
      "total_count": 3726,
      "avg_per_strategy": 7.452,
      "most_common": {
        "NWSA": 17,
        "CLX": 16,
        "PEAK": 16,
        "AMZN": 16,
        "TECH": 15,
        "NVDA": 15,
        "CHRW": 15,
        "DIS": 15,
        "TXN": 15,
        "MMC": 14
      }
    },
    "lookback": {
      "min": 20,
      "max": 500,
      "avg": 94.78
    }
  },
  "load_balance": {
    "total_strategies": 500,
    "per_worker": [
      126,
      144,
      107,
      123
    ],
    "min_load": 107,
    "max_load": 144,
    "avg_load": 125.0,
    "imbalance_factor": 1.152
  },
  "aggregate_metrics": {
    "num_workers": 4,
    "total_memory_mb": 1267.70703125,
    "avg_memory_per_worker_mb": 316.9267578125,
    "total_execution_time_seconds": 300.00946497917175,
    "cache_hit_rates": {
      "memory_bulk": {
        "rate": 86.80488588878174,
        "hits": 10802,
        "misses": 1642,
        "total": 12444
      },
      "redis_bulk": {
        "rate": 0.0,
        "hits": 0,
        "misses": 1642,
        "total": 1642
      },
      "memory": {
        "rate": 28.234799074268885,
        "hits": 5368,
        "misses": 13644,
        "total": 19012
      },
      "redis": {
        "rate": 83.3186748754031,
        "hits": 11368,
        "misses": 2276,
        "total": 13644
      }
    },
    "per_worker_memory": [
      317.41796875,
      327.44140625,
      304.296875,
      318.55078125
    ],
    "memory_redundancy_factor": 4.0
  },
  "worker_results": [
    {
      "worker_id": 0,
      "num_strategies": 126,
      "num_instruments": 413,
      "timings": {
        "warmup_seconds": 3.8981709480285645,
        "test_duration_seconds": 300.00946497917175,
        "fetch_iterations_ms": {
          "avg": 79.71388300647959,
          "min": 55.809915997087955,
          "max": 136.6397500387393
        },
        "minutes_executed": 5
      },
      "minute_by_minute": [
        {
          "minute": 0,
          "strategies_executed": 126,
          "execution_time_ms": 55.809915997087955
        },
        {
          "minute": 1,
          "strategies_executed": 85,
          "execution_time_ms": 64.15749998996034
        },
        {
          "minute": 2,
          "strategies_executed": 85,
          "execution_time_ms": 136.6397500387393
        },
        {
          "minute": 3,
          "strategies_executed": 85,
          "execution_time_ms": 74.70404100604355
        },
        {
          "minute": 4,
          "strategies_executed": 85,
          "execution_time_ms": 67.25820800056681
        }
      ],
      "performance": {
        "latencies": {
          "get_bars_1000_mock": {
            "p50": 3601.741500024218,
            "p95": 3855.4172919830307,
            "p99": 3857.8949170187116,
            "avg": 3529.1358057724383,
            "min": 2958.076125010848,
            "max": 3891.6774580138735,
            "count": 413
          },
          "get_bar_memory_hit": {
            "p50": 0.0029170187190175056,
            "p95": 0.005542009603232145,
            "p99": 0.01229200279340148,
            "avg": 0.003710741437862983,
            "min": 0.002333021257072687,
            "max": 0.12404198059812188,
            "count": 1372
          },
          "get_bars_20_memory": {
            "p50": 0.008540984708815813,
            "p95": 0.015500001609325409,
            "p99": 0.023374974261969328,
            "avg": 0.009551951148689298,
            "min": 0.005916983354836702,
            "max": 0.027041009161621332,
            "count": 295
          },
          "get_bars_50_memory": {
            "p50": 0.008666014764457941,
            "p95": 0.01487502595409751,
            "p99": 0.024500011932104826,
            "avg": 0.009461602713560694,
            "min": 0.005165988113731146,
            "max": 0.0363329891115427,
            "count": 836
          },
          "get_bars_100_memory": {
            "p50": 0.008666014764457941,
            "p95": 0.014416989870369434,
            "p99": 0.018332968465983868,
            "avg": 0.009234629524834123,
            "min": 0.005792011506855488,
            "max": 0.039458973333239555,
            "count": 1239
          },
          "get_bars_200_memory": {
            "p50": 0.00908400397747755,
            "p95": 0.010707997716963291,
            "p99": 0.01587503356859088,
            "avg": 0.009357149826741441,
            "min": 0.008083006832748652,
            "max": 0.021249987185001373,
            "count": 241
          },
          "get_bars_500_memory": {
            "p50": 0.009041978046298027,
            "p95": 0.009917013812810183,
            "p99": 0.01237494871020317,
            "avg": 0.009134529550051824,
            "min": 0.008375034667551517,
            "max": 0.01237494871020317,
            "count": 44
          },
          "get_bar_mock_fetch": {
            "p50": 76.91541698295623,
            "p95": 90.10650002164766,
            "p99": 92.04924997175112,
            "avg": 76.29805988742493,
            "min": 30.58124997187406,
            "max": 92.51320798648521,
            "count": 787
          },
          "get_bar_redis_hit": {
            "p50": 19.61958297761157,
            "p95": 38.63541700411588,
            "p99": 44.652707991190255,
            "avg": 20.20622126565179,
            "min": 3.879334020894021,
            "max": 47.00595804024488,
            "count": 2561
          }
        },
        "cache_hit_rates": {
          "memory_bulk": {
            "rate": 86.53846153846155,
            "hits": 2655,
            "misses": 413,
            "total": 3068
          },
          "redis_bulk": {
            "rate": 0.0,
            "hits": 0,
            "misses": 413,
            "total": 413
          },
          "memory": {
            "rate": 29.067796610169495,
            "hits": 1372,
            "misses": 3348,
            "total": 4720
          },
          "redis": {
            "rate": 76.49342891278376,
            "hits": 2561,
            "misses": 787,
            "total": 3348
          }
        },
        "total_runtime_seconds": 304.3438856601715
      },
      "system": {
        "duration_seconds": 304.33824396133423,
        "cpu": {
          "avg_percent": 0.0,
          "max_percent": 0.0,
          "min_percent": 0.0,
          "num_cores": 10
        },
        "memory": {
          "avg_rss_mb": 316.443359375,
          "max_rss_mb": 317.41796875,
          "peak_percent": 1.9373655319213867,
          "final_rss_mb": 317.41796875
        },
        "network": {
          "total_sent_mb": 260.1279296875,
          "total_recv_mb": 265.96875,
          "avg_send_mbps": 6.931392719808224,
          "avg_recv_mbps": 7.087027754617468
        },
        "threads": {
          "avg": 3.0,
          "max": 3,
          "final": 3
        },
        "snapshots_collected": 2
      }
    },
    {
      "worker_id": 1,
      "num_strategies": 144,
      "num_instruments": 425,
      "timings": {
        "warmup_seconds": 4.519084930419922,
        "test_duration_seconds": 300.0081901550293,
        "fetch_iterations_ms": {
          "avg": 92.27724979864433,
          "min": 61.44112499896437,
          "max": 109.67358300695196
        },
        "minutes_executed": 5
      },
      "minute_by_minute": [
        {
          "minute": 0,
          "strategies_executed": 144,
          "execution_time_ms": 61.44112499896437
        },
        {
          "minute": 1,
          "strategies_executed": 103,
          "execution_time_ms": 95.81112500745803
        },
        {
          "minute": 2,
          "strategies_executed": 103,
          "execution_time_ms": 89.16033298010007
        },
        {
          "minute": 3,
          "strategies_executed": 103,
          "execution_time_ms": 105.30008299974725
        },
        {
          "minute": 4,
          "strategies_executed": 103,
          "execution_time_ms": 109.67358300695196
        }
      ],
      "performance": {
        "latencies": {
          "get_bars_1000_mock": {
            "p50": 4377.770207996946,
            "p95": 4507.277625030838,
            "p99": 4512.29962502839,
            "avg": 4277.846351447515,
            "min": 3123.8730420009233,
            "max": 4512.671499978751,
            "count": 425
          },
          "get_bar_memory_hit": {
            "p50": 0.00304199056699872,
            "p95": 0.006665999535471201,
            "p99": 0.025374989490956068,
            "avg": 0.00572209387051106,
            "min": 0.00200001522898674,
            "max": 1.4808340347371995,
            "count": 1507
          },
          "get_bars_50_memory": {
            "p50": 0.008874980267137289,
            "p95": 0.01654098741710186,
            "p99": 0.023833010345697403,
            "avg": 0.00977541907703267,
            "min": 0.005875015631318092,
            "max": 0.04150002496317029,
            "count": 1164
          },
          "get_bars_100_memory": {
            "p50": 0.009125040378421545,
            "p95": 0.01675001112744212,
            "p99": 0.023291970137506723,
            "avg": 0.009962194486523265,
            "min": 0.005375011824071407,
            "max": 0.04037498729303479,
            "count": 1343
          },
          "get_bars_20_memory": {
            "p50": 0.009041978046298027,
            "p95": 0.01975003397092223,
            "p99": 0.026667024940252304,
            "avg": 0.010693957869677919,
            "min": 0.005875015631318092,
            "max": 0.04425004590302706,
            "count": 365
          },
          "get_bars_200_memory": {
            "p50": 0.009874987881630659,
            "p95": 0.012959004379808903,
            "p99": 0.018791004549711943,
            "avg": 0.009917658235065603,
            "min": 0.0074579729698598385,
            "max": 0.02274999860674143,
            "count": 211
          },
          "get_bars_500_memory": {
            "p50": 0.009583018254488707,
            "p95": 0.016250007320195436,
            "p99": 0.031333009246736765,
            "avg": 0.010814642820982857,
            "min": 0.007875030860304832,
            "max": 0.031333009246736765,
            "count": 47
          },
          "get_bar_redis_hit": {
            "p50": 27.144875028170645,
            "p95": 49.14170800475404,
            "p99": 53.72945900307968,
            "avg": 27.24310527298164,
            "min": 4.771374980919063,
            "max": 57.071124960202724,
            "count": 2862
          },
          "get_bar_mock_fetch": {
            "p50": 64.27908298792318,
            "p95": 72.9897499550134,
            "p99": 74.09424998331815,
            "avg": 64.07083277396109,
            "min": 46.578167006373405,
            "max": 74.62299999315292,
            "count": 886
          }
        },
        "cache_hit_rates": {
          "memory_bulk": {
            "rate": 88.0450070323488,
            "hits": 3130,
            "misses": 425,
            "total": 3555
          },
          "redis_bulk": {
            "rate": 0.0,
            "hits": 0,
            "misses": 425,
            "total": 425
          },
          "memory": {
            "rate": 28.67745004757374,
            "hits": 1507,
            "misses": 3748,
            "total": 5255
          },
          "redis": {
            "rate": 76.36072572038421,
            "hits": 2862,
            "misses": 886,
            "total": 3748
          }
        },
        "total_runtime_seconds": 304.967169046402
      },
      "system": {
        "duration_seconds": 304.9616560935974,
        "cpu": {
          "avg_percent": 0.0,
          "max_percent": 0.0,
          "min_percent": 0.0,
          "num_cores": 10
        },
        "memory": {
          "avg_rss_mb": 326.78515625,
          "max_rss_mb": 327.44140625,
          "peak_percent": 1.9985437393188477,
          "final_rss_mb": 327.44140625
        },
        "network": {
          "total_sent_mb": 260.1552734375,
          "total_recv_mb": 265.99609375,
          "avg_send_mbps": 6.932101577847577,
          "avg_recv_mbps": 7.0877361693329295
        },
        "threads": {
          "avg": 3.0,
          "max": 3,
          "final": 3
        },
        "snapshots_collected": 2
      }
    },
    {
      "worker_id": 2,
      "num_strategies": 107,
      "num_instruments": 391,
      "timings": {
        "warmup_seconds": 6.6281468868255615,
        "test_duration_seconds": 300.0056800842285,
        "fetch_iterations_ms": {
          "avg": 64.47043359512463,
          "min": 53.47879201872274,
          "max": 72.34070898266509
        },
        "minutes_executed": 5
      },
      "minute_by_minute": [
        {
          "minute": 0,
          "strategies_executed": 107,
          "execution_time_ms": 53.47879201872274
        },
        {
          "minute": 1,
          "strategies_executed": 76,
          "execution_time_ms": 69.76824998855591
        },
        {
          "minute": 2,
          "strategies_executed": 76,
          "execution_time_ms": 62.733708997257054
        },
        {
          "minute": 3,
          "strategies_executed": 76,
          "execution_time_ms": 72.34070898266509
        },
        {
          "minute": 4,
          "strategies_executed": 76,
          "execution_time_ms": 64.03070798842236
        }
      ],
      "performance": {
        "latencies": {
          "get_bars_1000_mock": {
            "p50": 2968.909207964316,
            "p95": 3516.7795830057003,
            "p99": 5229.895124968607,
            "avg": 3068.8708394818254,
            "min": 2774.6194999781437,
            "max": 6621.769374993164,
            "count": 391
          },
          "get_bar_memory_hit": {
            "p50": 0.0032500247471034527,
            "p95": 0.005790963768959045,
            "p99": 0.015249999705702066,
            "avg": 0.003947145125704774,
            "min": 0.002374988980591297,
            "max": 0.12087501818314195,
            "count": 1165
          },
          "get_bars_100_memory": {
            "p50": 0.009167008101940155,
            "p95": 0.015416997484862804,
            "p99": 0.020249979570508003,
            "avg": 0.009912628198527904,
            "min": 0.005917041562497616,
            "max": 0.03245897823944688,
            "count": 944
          },
          "get_bars_50_memory": {
            "p50": 0.008874980267137289,
            "p95": 0.015083001926541328,
            "p99": 0.02037500962615013,
            "avg": 0.009683046049884007,
            "min": 0.005165988113731146,
            "max": 0.05858304211869836,
            "count": 928
          },
          "get_bars_20_memory": {
            "p50": 0.009040988516062498,
            "p95": 0.016667007002979517,
            "p99": 0.02116599353030324,
            "avg": 0.009867660425035125,
            "min": 0.00500003807246685,
            "max": 0.025416025891900063,
            "count": 295
          },
          "get_bars_200_memory": {
            "p50": 0.00991596607491374,
            "p95": 0.015500001609325409,
            "p99": 0.02095801755785942,
            "avg": 0.010705448485995557,
            "min": 0.008292030543088913,
            "max": 0.023042026441544294,
            "count": 176
          },
          "get_bars_500_memory": {
            "p50": 0.009125040378421545,
            "p95": 0.01133297337219119,
            "p99": 0.01325004268437624,
            "avg": 0.009351515939506965,
            "min": 0.008457980584353209,
            "max": 0.01325004268437624,
            "count": 39
          },
          "get_bar_redis_hit": {
            "p50": 20.131375000346452,
            "p95": 48.876708024181426,
            "p99": 61.83650001185015,
            "avg": 21.463865688403597,
            "min": 2.9748340020887554,
            "max": 65.04916702397168,
            "count": 3035
          },
          "get_bar_mock_fetch": {
            "p50": 73.30795901361853,
            "p95": 74.19675000710413,
            "p99": 74.65454196790233,
            "avg": 60.415410046231166,
            "min": 34.340000012889504,
            "max": 75.50295896362513,
            "count": 137
          }
        },
        "cache_hit_rates": {
          "memory_bulk": {
            "rate": 85.8997475658132,
            "hits": 2382,
            "misses": 391,
            "total": 2773
          },
          "redis_bulk": {
            "rate": 0.0,
            "hits": 0,
            "misses": 391,
            "total": 391
          },
          "memory": {
            "rate": 26.86188609637999,
            "hits": 1165,
            "misses": 3172,
            "total": 4337
          },
          "redis": {
            "rate": 95.68095838587641,
            "hits": 3035,
            "misses": 137,
            "total": 3172
          }
        },
        "total_runtime_seconds": 307.0640001296997
      },
      "system": {
        "duration_seconds": 307.05932903289795,
        "cpu": {
          "avg_percent": 0.0,
          "max_percent": 0.0,
          "min_percent": 0.0,
          "num_cores": 10
        },
        "memory": {
          "avg_rss_mb": 302.71875,
          "max_rss_mb": 304.296875,
          "peak_percent": 1.8572807312011719,
          "final_rss_mb": 304.296875
        },
        "network": {
          "total_sent_mb": 260.1865234375,
          "total_recv_mb": 266.0283203125,
          "avg_send_mbps": 6.933172448950796,
          "avg_recv_mbps": 7.088838409704701
        },
        "threads": {
          "avg": 3.0,
          "max": 3,
          "final": 3
        },
        "snapshots_collected": 2
      }
    },
    {
      "worker_id": 3,
      "num_strategies": 123,
      "num_instruments": 413,
      "timings": {
        "warmup_seconds": 5.364376068115234,
        "test_duration_seconds": 300.00718903541565,
        "fetch_iterations_ms": {
          "avg": 76.18726680520922,
          "min": 56.0142089962028,
          "max": 87.28595805587247
        },
        "minutes_executed": 5
      },
      "minute_by_minute": [
        {
          "minute": 0,
          "strategies_executed": 123,
          "execution_time_ms": 56.0142089962028
        },
        {
          "minute": 1,
          "strategies_executed": 86,
          "execution_time_ms": 74.23312502214685
        },
        {
          "minute": 2,
          "strategies_executed": 86,
          "execution_time_ms": 87.28595805587247
        },
        {
          "minute": 3,
          "strategies_executed": 86,
          "execution_time_ms": 77.73366698529571
        },
        {
          "minute": 4,
          "strategies_executed": 86,
          "execution_time_ms": 85.66937496652827
        }
      ],
      "performance": {
        "latencies": {
          "get_bars_1000_mock": {
            "p50": 3651.6544169862755,
            "p95": 3888.2860830053687,
            "p99": 3890.644915984012,
            "avg": 3598.418836243542,
            "min": 2971.7050829785876,
            "max": 5361.399708956014,
            "count": 413
          },
          "get_bar_memory_hit": {
            "p50": 0.0029579969123005867,
            "p95": 0.005500041879713535,
            "p99": 0.010209041647613049,
            "avg": 0.0037148790405866243,
            "min": 0.002292043063789606,
            "max": 0.11458300286903977,
            "count": 1324
          },
          "get_bars_20_memory": {
            "p50": 0.008917006198316813,
            "p95": 0.016666017472743988,
            "p99": 0.027999980375170708,
            "avg": 0.010146893910132349,
            "min": 0.005375011824071407,
            "max": 0.03545801155269146,
            "count": 300
          },
          "get_bars_100_memory": {
            "p50": 0.009291048627346754,
            "p95": 0.014749995898455381,
            "p99": 0.02095801755785942,
            "avg": 0.009763439505498624,
            "min": 0.005958019755780697,
            "max": 0.0432920060120523,
            "count": 934
          },
          "get_bars_50_memory": {
            "p50": 0.008917006198316813,
            "p95": 0.014499993994832039,
            "p99": 0.02037500962615013,
            "avg": 0.00938443107191812,
            "min": 0.005417037755250931,
            "max": 0.029999995604157448,
            "count": 1100
          },
          "get_bars_200_memory": {
            "p50": 0.009709037840366364,
            "p95": 0.01229200279340148,
            "p99": 0.014624965842813253,
            "avg": 0.00989840010110781,
            "min": 0.008500006515532732,
            "max": 0.01750001683831215,
            "count": 265
          },
          "get_bars_500_memory": {
            "p50": 0.009583018254488707,
            "p95": 0.010417017620056868,
            "p99": 0.011874944902956486,
            "avg": 0.00963083423104965,
            "min": 0.008958973921835423,
            "max": 0.011874944902956486,
            "count": 36
          },
          "get_bar_redis_hit": {
            "p50": 21.548040967900306,
            "p95": 40.35224998369813,
            "p99": 45.134833024349064,
            "avg": 21.54182847351223,
            "min": 3.782541025429964,
            "max": 47.70891601219773,
            "count": 2910
          },
          "get_bar_mock_fetch": {
            "p50": 50.99941702792421,
            "p95": 56.45266704959795,
            "p99": 57.505249977111816,
            "avg": 50.119755369942844,
            "min": 34.06245796941221,
            "max": 57.96645797090605,
            "count": 466
          }
        },
        "cache_hit_rates": {
          "memory_bulk": {
            "rate": 86.4501312335958,
            "hits": 2635,
            "misses": 413,
            "total": 3048
          },
          "redis_bulk": {
            "rate": 0.0,
            "hits": 0,
            "misses": 413,
            "total": 413
          },
          "memory": {
            "rate": 28.170212765957448,
            "hits": 1324,
            "misses": 3376,
            "total": 4700
          },
          "redis": {
            "rate": 86.19668246445498,
            "hits": 2910,
            "misses": 466,
            "total": 3376
          }
        },
        "total_runtime_seconds": 305.8107228279114
      },
      "system": {
        "duration_seconds": 305.8065781593323,
        "cpu": {
          "avg_percent": 0.0,
          "max_percent": 0.0,
          "min_percent": 0.0,
          "num_cores": 10
        },
        "memory": {
          "avg_rss_mb": 316.953125,
          "max_rss_mb": 318.55078125,
          "peak_percent": 1.944279670715332,
          "final_rss_mb": 318.55078125
        },
        "network": {
          "total_sent_mb": 260.1708984375,
          "total_recv_mb": 266.01171875,
          "avg_send_mbps": 6.9326058740977965,
          "avg_recv_mbps": 7.088242440105637
        },
        "threads": {
          "avg": 3.0,
          "max": 3,
          "final": 3
        },
        "snapshots_collected": 2
      }
    }
  ],
  "total_wall_clock_seconds": 307.4707999229431
}