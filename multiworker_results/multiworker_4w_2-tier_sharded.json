{
  "test_name": "multiworker_4w_2-tier_sharded",
  "timestamp": "2025-10-22T19:11:30.974807",
  "configuration": {
    "num_workers": 4,
    "cache_mode": "2-tier",
    "assignment_mode": "sharded",
    "num_strategies": 500,
    "strategies_per_worker": [
      125,
      125,
      125,
      125
    ],
    "instruments_per_worker": [
      155,
      155,
      156,
      155
    ]
  },
  "strategy_stats": {
    "total_strategies": 500,
    "by_type": {
      "high_frequency": 208,
      "scalping": 148,
      "momentum": 72,
      "mean_reversion": 48,
      "swing": 20,
      "position": 4
    },
    "by_timeframe": {
      "1m": 356,
      "5m": 120,
      "15m": 20,
      "60m": 4
    },
    "instruments": {
      "unique_count": 493,
      "total_count": 3615,
      "avg_per_strategy": 7.23,
      "most_common": {
        "DT": 23,
        "PANW": 23,
        "CUBE": 21,
        "DEI": 21,
        "DASH": 20,
        "UBER": 20,
        "FTNT": 19,
        "DOCU": 19,
        "NET": 19,
        "S": 18
      }
    },
    "lookback": {
      "min": 20,
      "max": 500,
      "avg": 89.56
    }
  },
  "load_balance": {
    "total_strategies": 500,
    "per_worker": [
      125,
      125,
      125,
      125
    ],
    "min_load": 125,
    "max_load": 125,
    "avg_load": 125.0,
    "imbalance_factor": 1.0
  },
  "aggregate_metrics": {
    "num_workers": 4,
    "total_memory_mb": 592.2578125,
    "avg_memory_per_worker_mb": 148.064453125,
    "total_execution_time_seconds": 300.0242507457733,
    "cache_hit_rates": {
      "redis_bulk": {
        "rate": 4.900568181818182,
        "hits": 552,
        "misses": 10712,
        "total": 11264
      },
      "redis": {
        "rate": 63.52196683153913,
        "hits": 8733,
        "misses": 5015,
        "total": 13748
      }
    },
    "per_worker_memory": [
      148.18359375,
      147.44921875,
      148.2734375,
      148.3515625
    ],
    "memory_redundancy_factor": 4.0
  },
  "worker_results": [
    {
      "worker_id": 0,
      "num_strategies": 125,
      "num_instruments": 155,
      "timings": {
        "warmup_seconds": 1.4161992073059082,
        "test_duration_seconds": 300.0242507457733,
        "fetch_iterations_ms": {
          "avg": 384.1833167942241,
          "min": 254.2603750480339,
          "max": 768.5826669912785
        },
        "minutes_executed": 5
      },
      "minute_by_minute": [
        {
          "minute": 0,
          "strategies_executed": 125,
          "execution_time_ms": 768.5826669912785
        },
        {
          "minute": 1,
          "strategies_executed": 89,
          "execution_time_ms": 287.5067919958383
        },
        {
          "minute": 2,
          "strategies_executed": 89,
          "execution_time_ms": 322.0554169965908
        },
        {
          "minute": 3,
          "strategies_executed": 89,
          "execution_time_ms": 254.2603750480339
        },
        {
          "minute": 4,
          "strategies_executed": 89,
          "execution_time_ms": 288.5113329393789
        }
      ],
      "performance": {
        "latencies": {
          "get_bars_1000_mock": {
            "p50": 1312.2652089223266,
            "p95": 1411.5196249913424,
            "p99": 1413.7587919831276,
            "avg": 1252.065970151565,
            "min": 949.7719159116969,
            "max": 1413.779041962698,
            "count": 155
          },
          "get_bar_redis_hit": {
            "p50": 20.893833017908037,
            "p95": 46.56945902388543,
            "p99": 72.29666702914983,
            "avg": 23.435632623931408,
            "min": 1.4262920012697577,
            "max": 103.03629201371223,
            "count": 2126
          },
          "get_bar_mock_fetch": {
            "p50": 109.36033399775624,
            "p95": 295.27075006626546,
            "p99": 301.21400009375066,
            "avg": 140.1391563577495,
            "min": 18.858666997402906,
            "max": 304.62912505026907,
            "count": 1240
          },
          "get_bars_20_redis": {
            "p50": 64.65245794970542,
            "p95": 130.25699998252094,
            "p99": 130.25699998252094,
            "avg": 79.36142121131222,
            "min": 54.863041965290904,
            "max": 130.25699998252094,
            "count": 9
          },
          "get_bars_100_redis": {
            "p50": 98.33750000689179,
            "p95": 173.38716704398394,
            "p99": 176.99837510008365,
            "avg": 103.17793398545209,
            "min": 58.95054095890373,
            "max": 176.99837510008365,
            "count": 77
          },
          "get_bars_50_redis": {
            "p50": 96.91479103639722,
            "p95": 167.57858404889703,
            "p99": 230.35724996589124,
            "avg": 104.9444629710966,
            "min": 57.39795905537903,
            "max": 230.35724996589124,
            "count": 63
          },
          "get_bars_100_mock": {
            "p50": 190.1152079226449,
            "p95": 415.7404999714345,
            "p99": 433.9634169591591,
            "avg": 252.13213955867727,
            "min": 77.8878340497613,
            "max": 488.7203749967739,
            "count": 937
          },
          "get_bars_20_mock": {
            "p50": 169.10279192961752,
            "p95": 306.16104207001626,
            "p99": 308.04529204033315,
            "avg": 192.43058431037883,
            "min": 125.97612501122057,
            "max": 308.6838750168681,
            "count": 351
          },
          "get_bars_50_mock": {
            "p50": 176.0540419491008,
            "p95": 399.406332988292,
            "p99": 404.92629108484834,
            "avg": 208.03861290448344,
            "min": 79.64749995153397,
            "max": 431.79425003472716,
            "count": 998
          },
          "get_bars_200_redis": {
            "p50": 220.85104102734476,
            "p95": 220.85104102734476,
            "p99": 220.85104102734476,
            "avg": 201.54529105639085,
            "min": 182.23954108543694,
            "max": 220.85104102734476,
            "count": 2
          },
          "get_bars_200_mock": {
            "p50": 403.2379169948399,
            "p95": 435.00979198142886,
            "p99": 437.0465000392869,
            "avg": 406.75060690351785,
            "min": 379.86587500199676,
            "max": 437.94458301272243,
            "count": 113
          },
          "get_bars_500_mock": {
            "p50": 422.0598329557106,
            "p95": 441.5516670560464,
            "p99": 451.54420903418213,
            "avg": 426.58273074151265,
            "min": 406.5891669597477,
            "max": 451.54420903418213,
            "count": 41
          }
        },
        "cache_hit_rates": {
          "redis_bulk": {
            "rate": 5.49890750182083,
            "hits": 151,
            "misses": 2595,
            "total": 2746
          },
          "redis": {
            "rate": 63.16102198455139,
            "hits": 2126,
            "misses": 1240,
            "total": 3366
          }
        },
        "total_runtime_seconds": 301.86357593536377
      },
      "system": {
        "duration_seconds": 301.85988211631775,
        "cpu": {
          "avg_percent": 0.0,
          "max_percent": 0.0,
          "min_percent": 0.0,
          "num_cores": 10
        },
        "memory": {
          "avg_rss_mb": 80.55078125,
          "max_rss_mb": 148.18359375,
          "peak_percent": 0.9044408798217773,
          "final_rss_mb": 12.91796875
        },
        "network": {
          "total_sent_mb": 241.705078125,
          "total_recv_mb": 241.296875,
          "avg_send_mbps": 6.440360192724548,
          "avg_recv_mbps": 6.429483403634349
        },
        "threads": {
          "avg": 3.0,
          "max": 3,
          "final": 3
        },
        "snapshots_collected": 2
      }
    },
    {
      "worker_id": 1,
      "num_strategies": 125,
      "num_instruments": 155,
      "timings": {
        "warmup_seconds": 1.4067840576171875,
        "test_duration_seconds": 300.01755690574646,
        "fetch_iterations_ms": {
          "avg": 396.39224959537387,
          "min": 265.43670799583197,
          "max": 780.8217499405146
        },
        "minutes_executed": 5
      },
      "minute_by_minute": [
        {
          "minute": 0,
          "strategies_executed": 125,
          "execution_time_ms": 780.8217499405146
        },
        {
          "minute": 1,
          "strategies_executed": 89,
          "execution_time_ms": 297.6344160269946
        },
        {
          "minute": 2,
          "strategies_executed": 89,
          "execution_time_ms": 327.7409579604864
        },
        {
          "minute": 3,
          "strategies_executed": 89,
          "execution_time_ms": 265.43670799583197
        },
        {
          "minute": 4,
          "strategies_executed": 89,
          "execution_time_ms": 310.3274160530418
        }
      ],
      "performance": {
        "latencies": {
          "get_bars_1000_mock": {
            "p50": 1263.750582933426,
            "p95": 1404.1602079523727,
            "p99": 1404.3045000871643,
            "avg": 1235.5825513616323,
            "min": 942.2705420292914,
            "max": 1404.3409579899162,
            "count": 155
          },
          "get_bar_redis_hit": {
            "p50": 22.12329104077071,
            "p95": 50.15658400952816,
            "p99": 66.90712505951524,
            "avg": 24.86292857821416,
            "min": 1.4187910128384829,
            "max": 106.52575001586229,
            "count": 2163
          },
          "get_bar_mock_fetch": {
            "p50": 118.63658297806978,
            "p95": 301.25079106073827,
            "p99": 307.4090830050409,
            "avg": 145.7607155731504,
            "min": 19.55700002145022,
            "max": 309.8448329837993,
            "count": 1289
          },
          "get_bars_50_redis": {
            "p50": 99.6987500693649,
            "p95": 184.32866700459272,
            "p99": 218.67054095491767,
            "avg": 106.80715494359342,
            "min": 55.10266695637256,
            "max": 218.67054095491767,
            "count": 78
          },
          "get_bars_20_redis": {
            "p50": 76.46233297418803,
            "p95": 138.88695905916393,
            "p99": 138.88695905916393,
            "avg": 90.11401823954657,
            "min": 55.811624974012375,
            "max": 138.88695905916393,
            "count": 16
          },
          "get_bars_100_redis": {
            "p50": 95.72591597680002,
            "p95": 175.34541699569672,
            "p99": 186.52225006371737,
            "avg": 107.68323206359001,
            "min": 59.10750001203269,
            "max": 186.52225006371737,
            "count": 86
          },
          "get_bars_50_mock": {
            "p50": 186.38333398848772,
            "p95": 395.11375001166016,
            "p99": 399.58370802924037,
            "avg": 212.79292388273603,
            "min": 94.32283299975097,
            "max": 430.61816703993827,
            "count": 1020
          },
          "get_bars_20_mock": {
            "p50": 181.9937500404194,
            "p95": 312.1340830111876,
            "p99": 312.5002500601113,
            "avg": 201.425645140202,
            "min": 136.69704203493893,
            "max": 313.1485419580713,
            "count": 244
          },
          "get_bars_100_mock": {
            "p50": 187.39191605709493,
            "p95": 397.7992500877008,
            "p99": 402.0882500335574,
            "avg": 233.39905535062803,
            "min": 96.92908299621195,
            "max": 433.2817089743912,
            "count": 995
          },
          "get_bars_200_redis": {
            "p50": 212.67187502235174,
            "p95": 262.8504999447614,
            "p99": 262.8504999447614,
            "avg": 217.48243752517737,
            "min": 184.90791704971343,
            "max": 262.8504999447614,
            "count": 4
          },
          "get_bars_200_mock": {
            "p50": 401.7497079912573,
            "p95": 434.4342910917476,
            "p99": 498.4401250258088,
            "avg": 405.7645244912734,
            "min": 373.0022090021521,
            "max": 508.20591708179563,
            "count": 194
          },
          "get_bars_500_redis": {
            "p50": 258.6964999791235,
            "p95": 258.6964999791235,
            "p99": 258.6964999791235,
            "avg": 258.6964999791235,
            "min": 258.6964999791235,
            "max": 258.6964999791235,
            "count": 1
          },
          "get_bars_500_mock": {
            "p50": 425.2372500486672,
            "p95": 440.491458051838,
            "p99": 462.4314169632271,
            "avg": 425.8424060550542,
            "min": 410.985832917504,
            "max": 462.4314169632271,
            "count": 39
          }
        },
        "cache_hit_rates": {
          "redis_bulk": {
            "rate": 6.5324858757062145,
            "hits": 185,
            "misses": 2647,
            "total": 2832
          },
          "redis": {
            "rate": 62.65932792584009,
            "hits": 2163,
            "misses": 1289,
            "total": 3452
          }
        },
        "total_runtime_seconds": 301.8474922180176
      },
      "system": {
        "duration_seconds": 301.8441627025604,
        "cpu": {
          "avg_percent": 0.0,
          "max_percent": 0.0,
          "min_percent": 0.0,
          "num_cores": 10
        },
        "memory": {
          "avg_rss_mb": 80.1796875,
          "max_rss_mb": 147.44921875,
          "peak_percent": 0.899958610534668,
          "final_rss_mb": 12.91015625
        },
        "network": {
          "total_sent_mb": 241.6904296875,
          "total_recv_mb": 241.2822265625,
          "avg_send_mbps": 6.440130628813802,
          "avg_recv_mbps": 6.429253568222329
        },
        "threads": {
          "avg": 3.0,
          "max": 3,
          "final": 3
        },
        "snapshots_collected": 2
      }
    },
    {
      "worker_id": 2,
      "num_strategies": 125,
      "num_instruments": 156,
      "timings": {
        "warmup_seconds": 1.3668758869171143,
        "test_duration_seconds": 300.0152668952942,
        "fetch_iterations_ms": {
          "avg": 384.5932750031352,
          "min": 286.75004199612886,
          "max": 720.749249914661
        },
        "minutes_executed": 5
      },
      "minute_by_minute": [
        {
          "minute": 0,
          "strategies_executed": 125,
          "execution_time_ms": 720.749249914661
        },
        {
          "minute": 1,
          "strategies_executed": 89,
          "execution_time_ms": 304.6885000076145
        },
        {
          "minute": 2,
          "strategies_executed": 89,
          "execution_time_ms": 286.75004199612886
        },
        {
          "minute": 3,
          "strategies_executed": 89,
          "execution_time_ms": 286.8733750656247
        },
        {
          "minute": 4,
          "strategies_executed": 89,
          "execution_time_ms": 323.9052080316469
        }
      ],
      "performance": {
        "latencies": {
          "get_bars_1000_mock": {
            "p50": 1233.1307500135154,
            "p95": 1362.7125000348315,
            "p99": 1364.5817909855396,
            "avg": 1194.013971951044,
            "min": 959.0468750102445,
            "max": 1364.646999980323,
            "count": 156
          },
          "get_bar_redis_hit": {
            "p50": 23.74525007326156,
            "p95": 53.91187500208616,
            "p99": 64.76400000974536,
            "avg": 25.778725046010294,
            "min": 1.5897919656708837,
            "max": 68.86983301956207,
            "count": 2312
          },
          "get_bar_mock_fetch": {
            "p50": 119.7903340216726,
            "p95": 286.8606250267476,
            "p99": 293.5617910698056,
            "avg": 147.32654283863513,
            "min": 13.279249891638756,
            "max": 296.7132080812007,
            "count": 1175
          },
          "get_bars_100_redis": {
            "p50": 88.58983300160617,
            "p95": 186.79033301305026,
            "p99": 277.8527920600027,
            "avg": 104.89425517937818,
            "min": 59.73466706927866,
            "max": 277.8527920600027,
            "count": 89
          },
          "get_bars_50_redis": {
            "p50": 103.29250001814216,
            "p95": 182.31229193042964,
            "p99": 244.58374991081655,
            "avg": 110.5916123591929,
            "min": 63.16045799758285,
            "max": 244.58374991081655,
            "count": 56
          },
          "get_bars_20_mock": {
            "p50": 195.45854208990932,
            "p95": 299.92987506557256,
            "p99": 301.13425001036376,
            "avg": 207.32104227367097,
            "min": 134.69512504525483,
            "max": 301.973040914163,
            "count": 318
          },
          "get_bars_100_mock": {
            "p50": 211.13037504255772,
            "p95": 366.7644589440897,
            "p99": 377.70629208534956,
            "avg": 231.0363588823722,
            "min": 74.2959170602262,
            "max": 384.3587919836864,
            "count": 1136
          },
          "get_bars_50_mock": {
            "p50": 208.90808396507055,
            "p95": 304.9660830292851,
            "p99": 366.2059580674395,
            "avg": 215.43006846749734,
            "min": 85.19558294210583,
            "max": 369.31624996941537,
            "count": 843
          },
          "get_bars_200_redis": {
            "p50": 242.73995799012482,
            "p95": 272.114000050351,
            "p99": 272.114000050351,
            "avg": 236.81407635255405,
            "min": 209.19070800300688,
            "max": 272.114000050351,
            "count": 6
          },
          "get_bars_200_mock": {
            "p50": 366.6380000067875,
            "p95": 390.9745420096442,
            "p99": 392.86112505942583,
            "avg": 370.3581777626982,
            "min": 352.5104579748586,
            "max": 394.76141706109047,
            "count": 229
          },
          "get_bars_500_mock": {
            "p50": 373.25345794670284,
            "p95": 375.7153330370784,
            "p99": 375.7153330370784,
            "avg": 371.9148449987794,
            "min": 366.4779589744285,
            "max": 375.7153330370784,
            "count": 18
          },
          "get_bars_20_redis": {
            "p50": 70.75820805039257,
            "p95": 97.0324999652803,
            "p99": 97.0324999652803,
            "avg": 71.75138891519357,
            "min": 62.01937492005527,
            "max": 97.0324999652803,
            "count": 12
          }
        },
        "cache_hit_rates": {
          "redis_bulk": {
            "rate": 5.693328676213762,
            "hits": 163,
            "misses": 2700,
            "total": 2863
          },
          "redis": {
            "rate": 66.30341267565242,
            "hits": 2312,
            "misses": 1175,
            "total": 3487
          }
        },
        "total_runtime_seconds": 301.81018590927124
      },
      "system": {
        "duration_seconds": 301.80679202079773,
        "cpu": {
          "avg_percent": 0.0,
          "max_percent": 0.0,
          "min_percent": 0.0,
          "num_cores": 10
        },
        "memory": {
          "avg_rss_mb": 80.583984375,
          "max_rss_mb": 148.2734375,
          "peak_percent": 0.9049892425537109,
          "final_rss_mb": 12.89453125
        },
        "network": {
          "total_sent_mb": 241.6904296875,
          "total_recv_mb": 241.2822265625,
          "avg_send_mbps": 6.440105763537741,
          "avg_recv_mbps": 6.429228744942483
        },
        "threads": {
          "avg": 3.0,
          "max": 3,
          "final": 3
        },
        "snapshots_collected": 2
      }
    },
    {
      "worker_id": 3,
      "num_strategies": 125,
      "num_instruments": 155,
      "timings": {
        "warmup_seconds": 1.2566499710083008,
        "test_duration_seconds": 300.02062010765076,
        "fetch_iterations_ms": {
          "avg": 371.9377832021564,
          "min": 279.91583303082734,
          "max": 648.7883330555633
        },
        "minutes_executed": 5
      },
      "minute_by_minute": [
        {
          "minute": 0,
          "strategies_executed": 125,
          "execution_time_ms": 648.7883330555633
        },
        {
          "minute": 1,
          "strategies_executed": 89,
          "execution_time_ms": 303.1620829133317
        },
        {
          "minute": 2,
          "strategies_executed": 89,
          "execution_time_ms": 320.047999965027
        },
        {
          "minute": 3,
          "strategies_executed": 89,
          "execution_time_ms": 279.91583303082734
        },
        {
          "minute": 4,
          "strategies_executed": 89,
          "execution_time_ms": 307.77466704603285
        }
      ],
      "performance": {
        "latencies": {
          "get_bars_1000_mock": {
            "p50": 1084.2391250189394,
            "p95": 1238.2026249542832,
            "p99": 1241.2982910173014,
            "avg": 1093.5748951419466,
            "min": 927.5804170174524,
            "max": 1254.46483399719,
            "count": 155
          },
          "get_bar_mock_fetch": {
            "p50": 107.88558307103813,
            "p95": 230.2325830096379,
            "p99": 235.5247080558911,
            "avg": 124.59589373421572,
            "min": 24.014667025767267,
            "max": 237.40233294665813,
            "count": 1311
          },
          "get_bar_redis_hit": {
            "p50": 20.893750013783574,
            "p95": 40.549041936174035,
            "p99": 64.2677079886198,
            "avg": 22.14254252487002,
            "min": 3.4378329291939735,
            "max": 65.9226659918204,
            "count": 2132
          },
          "get_bars_50_mock": {
            "p50": 196.54199993237853,
            "p95": 352.35737496986985,
            "p99": 355.8770410018042,
            "avg": 205.41859409978875,
            "min": 83.33558391314,
            "max": 356.87987494748086,
            "count": 947
          },
          "get_bars_100_mock": {
            "p50": 194.3944999948144,
            "p95": 350.5517500452697,
            "p99": 358.83970803115517,
            "avg": 209.6264035631922,
            "min": 83.86808296199888,
            "max": 364.5070840138942,
            "count": 1195
          },
          "get_bars_20_mock": {
            "p50": 181.81141593959183,
            "p95": 241.5706249885261,
            "p99": 244.4524170132354,
            "avg": 184.3225177920734,
            "min": 125.94341696240008,
            "max": 245.12908305041492,
            "count": 237
          },
          "get_bars_200_mock": {
            "p50": 348.86566700879484,
            "p95": 374.02620899956673,
            "p99": 375.8541669230908,
            "avg": 350.9718148110417,
            "min": 335.490082972683,
            "max": 376.43637496512383,
            "count": 218
          },
          "get_bars_500_mock": {
            "p50": 371.15233403164893,
            "p95": 377.36020900774747,
            "p99": 377.36020900774747,
            "avg": 369.53332415497346,
            "min": 363.7936250306666,
            "max": 377.36020900774747,
            "count": 18
          },
          "get_bars_50_redis": {
            "p50": 90.67408309783787,
            "p95": 98.37875002995133,
            "p99": 98.37875002995133,
            "avg": 87.01758761308156,
            "min": 72.20300007611513,
            "max": 98.37875002995133,
            "count": 20
          },
          "get_bars_20_redis": {
            "p50": 72.7275829995051,
            "p95": 75.18470799550414,
            "p99": 75.18470799550414,
            "avg": 73.19419435225427,
            "min": 71.67029206175357,
            "max": 75.18470799550414,
            "count": 3
          },
          "get_bars_100_redis": {
            "p50": 81.53962495271116,
            "p95": 96.73708293121308,
            "p99": 98.3116659335792,
            "avg": 82.82150554393108,
            "min": 71.99087494518608,
            "max": 98.3116659335792,
            "count": 30
          }
        },
        "cache_hit_rates": {
          "redis_bulk": {
            "rate": 1.8774353524619198,
            "hits": 53,
            "misses": 2770,
            "total": 2823
          },
          "redis": {
            "rate": 61.92274179494627,
            "hits": 2132,
            "misses": 1311,
            "total": 3443
          }
        },
        "total_runtime_seconds": 301.70865201950073
      },
      "system": {
        "duration_seconds": 301.69812297821045,
        "cpu": {
          "avg_percent": 0.0,
          "max_percent": 0.0,
          "min_percent": 0.0,
          "num_cores": 10
        },
        "memory": {
          "avg_rss_mb": 80.724609375,
          "max_rss_mb": 148.3515625,
          "peak_percent": 0.9054660797119141,
          "final_rss_mb": 13.09765625
        },
        "network": {
          "total_sent_mb": 241.6748046875,
          "total_recv_mb": 241.2666015625,
          "avg_send_mbps": 6.439617584780896,
          "avg_recv_mbps": 6.4287406875167745
        },
        "threads": {
          "avg": 3.0,
          "max": 3,
          "final": 3
        },
        "snapshots_collected": 2
      }
    }
  ],
  "total_wall_clock_seconds": 302.2252027988434
}